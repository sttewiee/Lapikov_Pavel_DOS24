#!/bin/bash

# Проверяем, переданы ли 2 параметра: имя файла и новое расширение
if [ "$#" -ne 2 ]; then
  echo "Использование: $0 <имя файла> <новое расширение>"
  exit 1
fi

# Сохраняем имя файла и новое расширение в переменные для удобства
filename="$1"     # Исходное имя файла
new_ext="$2"      # Новое расширение, переданное как второй параметр

# Определяем базовое имя файла (без расширения) и текущее расширение, если оно есть
# ${variable##pattern} - позволяет удалить самую длинную часть строки, совпадающую с шаблоном справа
# ${variable%%pattern} - позволяет удалить самую длинную часть строки, совпадающую с шаблоном слева

# Сначала проверяем, есть ли расширение у файла
if [[ "$filename" == *.* ]]; then
  # Если у файла есть расширение, удаляем его, чтобы получить базовое имя
  base_name="${filename%.*}"
else
  # Если расширения нет, считаем, что исходное имя файла — это и есть базовое имя
  base_name="$filename"
fi

# Создаем новое имя файла с новым расширением
new_filename="$base_name.$new_ext"

# Выводим результат на экран
echo "Новое имя файла: $new_filename"

